{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sonic\\\\OneDrive\\\\Documents\\\\FInal Version(Hopefully) for stella site\\\\stellabelessimovies\\\\src\\\\components\\\\MovieSwiper.jsx\",\n  _s = $RefreshSig$();\n// MovieSwiper.js - ENHANCED VERSION\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport './movieSwiper.css';\nimport 'swiper/css';\nimport 'swiper/css/effect-coverflow';\nimport 'swiper/css/pagination';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { Autoplay, EffectCoverflow } from 'swiper/modules';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MovieSwiper({\n  slides,\n  slideChange\n}) {\n  _s();\n  const swiperRef = useRef(null);\n  const [customCursorsLoaded, setCustomCursorsLoaded] = useState(false);\n  const [isInteracting, setIsInteracting] = useState(false);\n  const clickTimeoutRef = useRef(null);\n\n  // Enhanced cursor preloading with retry logic\n  useEffect(() => {\n    const grabCursor = new Image();\n    const pointingCursor = new Image();\n    let grabLoaded = false;\n    let pointingLoaded = false;\n    const checkBothLoaded = () => {\n      if (grabLoaded && pointingLoaded) {\n        setCustomCursorsLoaded(true);\n        console.log('✓ Custom cursors loaded successfully');\n      }\n    };\n    grabCursor.onload = () => {\n      grabLoaded = true;\n      checkBothLoaded();\n    };\n    pointingCursor.onload = () => {\n      pointingLoaded = true;\n      checkBothLoaded();\n    };\n    grabCursor.onerror = () => {\n      console.warn('⚠ Could not load handgrab.png - using default cursor');\n      grabLoaded = true; // Continue anyway\n      checkBothLoaded();\n    };\n    pointingCursor.onerror = () => {\n      console.warn('⚠ Could not load handpointing.png - using default cursor');\n      pointingLoaded = true; // Continue anyway\n      checkBothLoaded();\n    };\n\n    // Try multiple possible paths\n    grabCursor.src = '/handgrab.png';\n    pointingCursor.src = '/handpointing.png';\n\n    // Cleanup\n    return () => {\n      grabCursor.onload = null;\n      grabCursor.onerror = null;\n      pointingCursor.onload = null;\n      pointingCursor.onerror = null;\n    };\n  }, []);\n\n  // Apply custom cursor classes dynamically\n  useEffect(() => {\n    if (customCursorsLoaded && swiperRef.current) {\n      const swiperEl = swiperRef.current;\n      swiperEl.classList.add('custom-grab-cursor');\n      const slideElements = swiperEl.querySelectorAll('.swiper-slide');\n      slideElements.forEach(slide => {\n        slide.classList.add('custom-pointer-cursor');\n      });\n    }\n  }, [customCursorsLoaded]);\n\n  // Enhanced click handler with debounce to prevent double-clicks\n  const handleSlideClick = useCallback((slideId, e) => {\n    // Prevent click if we're actively dragging\n    if (isInteracting) return;\n\n    // Clear any existing timeout\n    if (clickTimeoutRef.current) {\n      clearTimeout(clickTimeoutRef.current);\n    }\n\n    // Small delay to ensure it's a real click, not a swipe\n    clickTimeoutRef.current = setTimeout(() => {\n      slideChange(slideId);\n    }, 150);\n  }, [isInteracting, slideChange]);\n\n  // Track interaction state\n  const handleTouchStart = useCallback(() => {\n    setIsInteracting(true);\n  }, []);\n  const handleTouchEnd = useCallback(() => {\n    setTimeout(() => setIsInteracting(false), 300);\n  }, []);\n\n  // Cleanup timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (clickTimeoutRef.current) {\n        clearTimeout(clickTimeoutRef.current);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Swiper, {\n    ref: swiperRef,\n    effect: \"coverflow\",\n    grabCursor: true,\n    centeredSlides: true,\n    slidesPerView: 'auto',\n    loop: true,\n    speed: 600,\n    autoplay: {\n      delay: 3000,\n      disableOnInteraction: false,\n      pauseOnMouseEnter: true,\n      waitForTransition: true\n    },\n    coverflowEffect: {\n      rotate: 35,\n      stretch: 10,\n      depth: 150,\n      modifier: 1.2,\n      slideShadows: true\n    },\n    modules: [Autoplay, EffectCoverflow],\n    className: \"movieSwiper\",\n    allowTouchMove: true,\n    simulateTouch: true,\n    touchStartPreventDefault: false,\n    shortSwipes: true,\n    longSwipes: true,\n    touchRatio: 1.2,\n    touchAngle: 50,\n    threshold: 8,\n    touchEventsTarget: \"container\",\n    resistance: true,\n    resistanceRatio: 0.85,\n    followFinger: true,\n    freeMode: false,\n    onTouchStart: handleTouchStart,\n    onTouchEnd: handleTouchEnd,\n    onSliderMove: handleTouchStart,\n    children: slides.map((slide, index) => /*#__PURE__*/_jsxDEV(SwiperSlide, {\n      onClick: e => handleSlideClick(slide._id, e),\n      style: {\n        animationDelay: `${index * 0.05}s`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slide-content\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: slide.previewImg,\n          alt: `Preview ${index + 1}`,\n          draggable: false,\n          loading: index < 5 ? \"eager\" : \"lazy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)\n    }, slide._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieSwiper, \"sE5XoCxMnG840wL6Mb4rG0iF55A=\");\n_c = MovieSwiper;\nexport default MovieSwiper;\nvar _c;\n$RefreshReg$(_c, \"MovieSwiper\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","Swiper","SwiperSlide","Autoplay","EffectCoverflow","jsxDEV","_jsxDEV","MovieSwiper","slides","slideChange","_s","swiperRef","customCursorsLoaded","setCustomCursorsLoaded","isInteracting","setIsInteracting","clickTimeoutRef","grabCursor","Image","pointingCursor","grabLoaded","pointingLoaded","checkBothLoaded","console","log","onload","onerror","warn","src","current","swiperEl","classList","add","slideElements","querySelectorAll","forEach","slide","handleSlideClick","slideId","e","clearTimeout","setTimeout","handleTouchStart","handleTouchEnd","ref","effect","centeredSlides","slidesPerView","loop","speed","autoplay","delay","disableOnInteraction","pauseOnMouseEnter","waitForTransition","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","modules","className","allowTouchMove","simulateTouch","touchStartPreventDefault","shortSwipes","longSwipes","touchRatio","touchAngle","threshold","touchEventsTarget","resistance","resistanceRatio","followFinger","freeMode","onTouchStart","onTouchEnd","onSliderMove","children","map","index","onClick","_id","style","animationDelay","previewImg","alt","draggable","loading","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/sonic/OneDrive/Documents/FInal Version(Hopefully) for stella site/stellabelessimovies/src/components/MovieSwiper.jsx"],"sourcesContent":["// MovieSwiper.js - ENHANCED VERSION\r\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport './movieSwiper.css';\r\nimport 'swiper/css';\r\nimport 'swiper/css/effect-coverflow';\r\nimport 'swiper/css/pagination';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { Autoplay, EffectCoverflow } from 'swiper/modules';\r\n\r\nfunction MovieSwiper({ slides, slideChange }) {\r\n  const swiperRef = useRef(null);\r\n  const [customCursorsLoaded, setCustomCursorsLoaded] = useState(false);\r\n  const [isInteracting, setIsInteracting] = useState(false);\r\n  const clickTimeoutRef = useRef(null);\r\n\r\n  // Enhanced cursor preloading with retry logic\r\n  useEffect(() => {\r\n    const grabCursor = new Image();\r\n    const pointingCursor = new Image();\r\n    \r\n    let grabLoaded = false;\r\n    let pointingLoaded = false;\r\n\r\n    const checkBothLoaded = () => {\r\n      if (grabLoaded && pointingLoaded) {\r\n        setCustomCursorsLoaded(true);\r\n        console.log('✓ Custom cursors loaded successfully');\r\n      }\r\n    };\r\n\r\n    grabCursor.onload = () => {\r\n      grabLoaded = true;\r\n      checkBothLoaded();\r\n    };\r\n    \r\n    pointingCursor.onload = () => {\r\n      pointingLoaded = true;\r\n      checkBothLoaded();\r\n    };\r\n\r\n    grabCursor.onerror = () => {\r\n      console.warn('⚠ Could not load handgrab.png - using default cursor');\r\n      grabLoaded = true; // Continue anyway\r\n      checkBothLoaded();\r\n    };\r\n    \r\n    pointingCursor.onerror = () => {\r\n      console.warn('⚠ Could not load handpointing.png - using default cursor');\r\n      pointingLoaded = true; // Continue anyway\r\n      checkBothLoaded();\r\n    };\r\n\r\n    // Try multiple possible paths\r\n    grabCursor.src = '/handgrab.png';\r\n    pointingCursor.src = '/handpointing.png';\r\n\r\n    // Cleanup\r\n    return () => {\r\n      grabCursor.onload = null;\r\n      grabCursor.onerror = null;\r\n      pointingCursor.onload = null;\r\n      pointingCursor.onerror = null;\r\n    };\r\n  }, []);\r\n\r\n  // Apply custom cursor classes dynamically\r\n  useEffect(() => {\r\n    if (customCursorsLoaded && swiperRef.current) {\r\n      const swiperEl = swiperRef.current;\r\n      swiperEl.classList.add('custom-grab-cursor');\r\n      \r\n      const slideElements = swiperEl.querySelectorAll('.swiper-slide');\r\n      slideElements.forEach(slide => {\r\n        slide.classList.add('custom-pointer-cursor');\r\n      });\r\n    }\r\n  }, [customCursorsLoaded]);\r\n\r\n  // Enhanced click handler with debounce to prevent double-clicks\r\n  const handleSlideClick = useCallback((slideId, e) => {\r\n    // Prevent click if we're actively dragging\r\n    if (isInteracting) return;\r\n\r\n    // Clear any existing timeout\r\n    if (clickTimeoutRef.current) {\r\n      clearTimeout(clickTimeoutRef.current);\r\n    }\r\n\r\n    // Small delay to ensure it's a real click, not a swipe\r\n    clickTimeoutRef.current = setTimeout(() => {\r\n      slideChange(slideId);\r\n    }, 150);\r\n  }, [isInteracting, slideChange]);\r\n\r\n  // Track interaction state\r\n  const handleTouchStart = useCallback(() => {\r\n    setIsInteracting(true);\r\n  }, []);\r\n\r\n  const handleTouchEnd = useCallback(() => {\r\n    setTimeout(() => setIsInteracting(false), 300);\r\n  }, []);\r\n\r\n  // Cleanup timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (clickTimeoutRef.current) {\r\n        clearTimeout(clickTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Swiper\r\n      ref={swiperRef}\r\n      effect=\"coverflow\"\r\n      grabCursor={true}\r\n      centeredSlides={true}\r\n      slidesPerView={'auto'}\r\n      loop={true}\r\n      speed={600}\r\n      autoplay={{\r\n        delay: 3000,\r\n        disableOnInteraction: false,\r\n        pauseOnMouseEnter: true,\r\n        waitForTransition: true,\r\n      }}\r\n      coverflowEffect={{\r\n        rotate: 35,\r\n        stretch: 10,\r\n        depth: 150,\r\n        modifier: 1.2,\r\n        slideShadows: true,\r\n      }}\r\n      modules={[Autoplay, EffectCoverflow]}\r\n      className=\"movieSwiper\"\r\n      allowTouchMove={true}\r\n      simulateTouch={true}\r\n      touchStartPreventDefault={false}\r\n      shortSwipes={true}\r\n      longSwipes={true}\r\n      touchRatio={1.2}\r\n      touchAngle={50}\r\n      threshold={8}\r\n      touchEventsTarget=\"container\"\r\n      resistance={true}\r\n      resistanceRatio={0.85}\r\n      followFinger={true}\r\n      freeMode={false}\r\n      onTouchStart={handleTouchStart}\r\n      onTouchEnd={handleTouchEnd}\r\n      onSliderMove={handleTouchStart}\r\n    >\r\n      {slides.map((slide, index) => (\r\n        <SwiperSlide\r\n          key={slide._id}\r\n          onClick={(e) => handleSlideClick(slide._id, e)}\r\n          style={{\r\n            animationDelay: `${index * 0.05}s`\r\n          }}\r\n        >\r\n          <div className=\"slide-content\">\r\n            <img\r\n              src={slide.previewImg}\r\n              alt={`Preview ${index + 1}`}\r\n              draggable={false}\r\n              loading={index < 5 ? \"eager\" : \"lazy\"}\r\n            />\r\n          </div>\r\n        </SwiperSlide>\r\n      ))}\r\n    </Swiper>\r\n  );\r\n}\r\n\r\nexport default MovieSwiper;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}