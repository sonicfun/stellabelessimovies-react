{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sonic\\\\OneDrive\\\\Documents\\\\FInal Version(Hopefully) for stella site\\\\stellabelessimovies\\\\src\\\\components\\\\Modal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport './modal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Modal({\n  movie,\n  status,\n  toggleModal\n}) {\n  _s();\n  const [videoSrc, setVideoSrc] = useState(\"\");\n  const playerRef = useRef(null);\n  const intervalRef = useRef(null);\n  useEffect(() => {\n    const savedTime = localStorage.getItem(`video-${movie.title}`) || 0;\n    if (status) {\n      // Add autoplay and enable JS API\n      const autoplayUrl = movie.video.includes(\"?\") ? `${movie.video}&autoplay=1&enablejsapi=1` : `${movie.video}?autoplay=1&enablejsapi=1`;\n      setVideoSrc(autoplayUrl);\n\n      // Wait a bit to create the player\n      const onYouTubeIframeAPIReady = () => {\n        playerRef.current = new window.YT.Player(`player-${movie.title}`, {\n          events: {\n            onReady: event => {\n              event.target.seekTo(parseFloat(savedTime), true);\n              event.target.playVideo();\n              // Save current time every second\n              intervalRef.current = setInterval(() => {\n                const currentTime = event.target.getCurrentTime();\n                localStorage.setItem(`video-${movie.title}`, currentTime);\n              }, 1000);\n            }\n          }\n        });\n      };\n\n      // Load YouTube API if not already loaded\n      if (!window.YT) {\n        const tag = document.createElement(\"script\");\n        tag.src = \"https://www.youtube.com/iframe_api\";\n        document.body.appendChild(tag);\n        window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;\n      } else {\n        onYouTubeIframeAPIReady();\n      }\n    } else {\n      // Stop saving time when modal closes\n      clearInterval(intervalRef.current);\n      setVideoSrc(\"\");\n      playerRef.current = null;\n    }\n  }, [status, movie.video, movie.title]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `movieModal ${status ? 'active' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#\",\n      className: \"modalClose\",\n      onClick: toggleModal,\n      children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n        name: \"close-outline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), status && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: `player-${movie.title}`,\n      style: {\n        width: \"1280px\",\n        height: \"720px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Modal, \"gixwJghK55brlnZ0dQahkWxt7fI=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","Modal","movie","status","toggleModal","_s","videoSrc","setVideoSrc","playerRef","intervalRef","savedTime","localStorage","getItem","title","autoplayUrl","video","includes","onYouTubeIframeAPIReady","current","window","YT","Player","events","onReady","event","target","seekTo","parseFloat","playVideo","setInterval","currentTime","getCurrentTime","setItem","tag","document","createElement","src","body","appendChild","clearInterval","className","children","href","onClick","name","fileName","_jsxFileName","lineNumber","columnNumber","id","style","width","height","_c","$RefreshReg$"],"sources":["C:/Users/sonic/OneDrive/Documents/FInal Version(Hopefully) for stella site/stellabelessimovies/src/components/Modal.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport './modal.css';\r\n\r\nfunction Modal({ movie, status, toggleModal }) {\r\n  const [videoSrc, setVideoSrc] = useState(\"\");\r\n  const playerRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const savedTime = localStorage.getItem(`video-${movie.title}`) || 0;\r\n\r\n    if (status) {\r\n      // Add autoplay and enable JS API\r\n      const autoplayUrl = movie.video.includes(\"?\")\r\n        ? `${movie.video}&autoplay=1&enablejsapi=1`\r\n        : `${movie.video}?autoplay=1&enablejsapi=1`;\r\n      setVideoSrc(autoplayUrl);\r\n\r\n      // Wait a bit to create the player\r\n      const onYouTubeIframeAPIReady = () => {\r\n        playerRef.current = new window.YT.Player(`player-${movie.title}`, {\r\n          events: {\r\n            onReady: (event) => {\r\n              event.target.seekTo(parseFloat(savedTime), true);\r\n              event.target.playVideo();\r\n              // Save current time every second\r\n              intervalRef.current = setInterval(() => {\r\n                const currentTime = event.target.getCurrentTime();\r\n                localStorage.setItem(`video-${movie.title}`, currentTime);\r\n              }, 1000);\r\n            },\r\n          },\r\n        });\r\n      };\r\n\r\n      // Load YouTube API if not already loaded\r\n      if (!window.YT) {\r\n        const tag = document.createElement(\"script\");\r\n        tag.src = \"https://www.youtube.com/iframe_api\";\r\n        document.body.appendChild(tag);\r\n        window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;\r\n      } else {\r\n        onYouTubeIframeAPIReady();\r\n      }\r\n    } else {\r\n      // Stop saving time when modal closes\r\n      clearInterval(intervalRef.current);\r\n      setVideoSrc(\"\"); \r\n      playerRef.current = null;\r\n    }\r\n  }, [status, movie.video, movie.title]);\r\n\r\n  return (\r\n    <div className={`movieModal ${status ? 'active' : ''}`}>\r\n      <a href=\"#\" className=\"modalClose\" onClick={toggleModal}>\r\n        <ion-icon name=\"close-outline\"></ion-icon>\r\n      </a>\r\n      {status && (\r\n        <div id={`player-${movie.title}`} style={{ width: \"1280px\", height: \"720px\" }}></div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}